<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>GreenBite â€” Recipes</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="recipes.css">
</head>
<body>
<header>
  <nav>
    <a href="index.html">Home</a>
    <a href="recipes.html">Recipes</a>
    <a href="calculator.html">Calculator</a>
  </nav>
</header>
<div style="text-align:right;font-size:1.1em;margin-bottom:8px;">
  <span id="clock"></span>
</div>

<main>
  <h2 style="font-size:2.5em;color:#0a680d;margin-bottom:0.5em;letter-spacing:1px;text-align:center;">Healthy Recipes</h2>
  <div style="display:flex;justify-content:center;align-items:center;gap:40px;margin-bottom:24px;flex-wrap:wrap;">
    <img src="assets/vegan-icon.png" alt="Vegetarian" style="width:80px;">
    <img src="assets/fat.png" alt="Meat" style="width:80px;border-radius:16px;box-shadow:0 2px 12px #0a680d22;">
    <img src="assets/sm.png" alt="Smoothie" style="width:80px;border-radius:16px;box-shadow:0 2px 12px #0a680d22;">
    <img src="assets/carbs.png" alt="Vegan" style="width:80px;">
  </div>
  <input id="search" placeholder="Search by name" style="font-size:1.3em;padding:10px 16px;margin-bottom:8px;">
  <select id="filter" style="font-size:1.2em;padding:8px 12px;">
    <option value="">All</option><option>Vegetarian</option><option>Meat</option><option>Vegan</option>
  </select>
  <button id="clear" style="font-size:1.1em;padding:8px 16px;">Clear</button>

  <div id="recipes" style="font-size:1.25em;"></div>
</main>

<div id="modal" class="hidden" onclick="if(event.target.id==='modal') modal.classList.add('hidden')">
  <div id="modal-inner"></div>
</div>

<script>




// Live clock
function updateClock() {
  const now = new Date();
  const h = String(now.getHours()).padStart(2,'0');
  const m = String(now.getMinutes()).padStart(2,'0');
  const s = String(now.getSeconds()).padStart(2,'0');
  document.getElementById('clock').textContent = `${h}:${m}:${s}`;
}
setInterval(updateClock, 1000);
updateClock();




const ICONS = {
  Vegetarian: "assets/vegetarian-icon.png",
  Meat: "assets/chicken-icon.png",
  Vegan: "assets/vegetarian-icon.png"
};



const RECIPES=[
 {id:1,title:'Quinoa Salad',category:'Vegetarian',desc:'Quick quinoa salad.',
  img:'assets/smoothie.jpg',
  ingredients:['1 cup quinoa','2 cups water','Veggies'],
  steps:['Boil quinoa','Mix veggies'],
  nutrition:{cal:350,carb:45,prot:10,fat:12}},

 {id:2,title:'Grilled Chicken',category:'Meat',desc:'Chicken with veg.',
  img:'assets/grilled-chicken.jpg',
  ingredients:['150g chicken','Veggies'],
  steps:['Grill chicken','Cook veg'],
  nutrition:{cal:420,carb:20,prot:38,fat:18}},

 {id:3,title:'Berry Smoothie',category:'Vegan',desc:'Blend fruits.',
  img:'assets/berry-smoothie.jpg',
  ingredients:['Berries','Banana','Oat milk'],
  steps:['Blend all'],
  nutrition:{cal:220,carb:45,prot:4,fat:3}}
];




const box=document.getElementById('recipes'),
      modal=document.getElementById('modal'),
      inner=document.getElementById('modal-inner');

function show(list){
  box.innerHTML=list.map(r=>`
    <div class="card">
      <img src="${r.img}" style="width:100%;height:120px;object-fit:cover;border-radius:6px">
      <h4>${r.title}</h4>
      <img src="${ICONS[r.category]}" style="width:25px">
      <p>${r.desc}</p>
      <button onclick="openRecipe(${r.id})">Open</button>
    </div>`).join('');
}
show(RECIPES);



function openRecipe(id){
  const r=RECIPES.find(x=>x.id===id);
  inner.innerHTML=`
    <h3>${r.title}</h3>
    <img src="${r.img}" style="width:100%;max-height:200px;object-fit:cover;border-radius:8px;margin-bottom:.5rem">
    <img src="${ICONS[r.category]}" style="width:25px">
    <ul>${r.ingredients.map(i=>`<li>${i}</li>`).join('')}</ul>
    <ol>${r.steps.map(s=>`<li>${s}</li>`).join('')}</ol>
    <table border="1"><tr><th>Cal</th><th>Carb</th><th>Protein</th><th>Fat</th></tr>
    <tr><td>${r.nutrition.cal}</td><td>${r.nutrition.carb}</td><td>${r.nutrition.prot}</td><td>${r.nutrition.fat}</td></tr></table>
    <button onclick="modal.classList.add('hidden')">Close</button>`;
  modal.classList.remove('hidden');

}



document.getElementById('search').oninput=()=>filter();
document.getElementById('filter').onchange=()=>filter();
document.getElementById('clear').onclick=()=>{
  search.value='';
  filter.value='';
  show(RECIPES);
};



function filter(){
  let v=search.value.toLowerCase(),f=filter.value;
  show(RECIPES.filter(r=>r.title.toLowerCase().includes(v)&&(!f||r.category===f)));
}
</script>
</body>
</html>
